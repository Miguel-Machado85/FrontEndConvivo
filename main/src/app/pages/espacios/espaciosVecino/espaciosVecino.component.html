<main class="reserve-space-page" role="main">
    <header class="reserve-header">
        <div class="reserve-title">
            <h1>Reservar Espacio Común</h1>
            <p class="lead">Selecciona un espacio, fecha y hora para realizar tu reserva</p>
        </div>
    </header>

    <section class="container-select-espacio">
        <div class="section-card">
            <div class="section-header">
                <div class="section-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                        <path
                            d="M25 12.5C25 18.7413 18.0762 25.2412 15.7512 27.2487C15.5347 27.4116 15.271 27.4997 15 27.4997C14.729 27.4997 14.4653 27.4116 14.2488 27.2487C11.9238 25.2412 5 18.7413 5 12.5C5 9.84784 6.05357 7.3043 7.92893 5.42893C9.8043 3.55357 12.3478 2.5 15 2.5C17.6522 2.5 20.1957 3.55357 22.0711 5.42893C23.9464 7.3043 25 9.84784 25 12.5Z"
                            stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M15 16.25C17.0711 16.25 18.75 14.5711 18.75 12.5C18.75 10.4289 17.0711 8.75 15 8.75C12.9289 8.75 11.25 10.4289 11.25 12.5C11.25 14.5711 12.9289 16.25 15 16.25Z"
                            stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </div>
                <div>
                    <div class="section-title">Espacio</div>
                    <div class="section-sub">Selecciona uno</div>
                </div>
            </div>

            <div class="espacios-list">
                <button class="espacio-button" *ngFor="let espacio of espacios"
                    (click)="seleccionarEspacio(espacio.id!)"
                    [ngClass]="{ 'activeMenu': espacioSeleccionado?.id === espacio.id }">
                    <div class="espacio-icon-container">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path
                                d="M20 10C20 14.993 14.461 20.193 12.601 21.799C12.4277 21.9293 12.2168 21.9998 12 21.9998C11.7832 21.9998 11.5723 21.9293 11.399 21.799C9.539 20.193 4 14.993 4 10C4 7.87827 4.84285 5.84344 6.34315 4.34315C7.84344 2.84285 9.87827 2 12 2C14.1217 2 16.1566 2.84285 17.6569 4.34315C19.1571 5.84344 20 7.87827 20 10Z"
                                stroke="#4A5565" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z"
                                stroke="#4A5565" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="espacio-content">
                        <div class="espacio-title">{{ espacio.nombre }}</div>
                        <div class="espacio-description">{{ espacio.descripcion }}</div>
                    </div>
                </button>
            </div>
        </div>
    </section>

    <!-- Fecha section -->
    <section class="container-select-espacio">
        <div class="section-card">
            <div class="section-header">
                <div class="section-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                        <path d="M10 2.5V7.5" stroke="white" stroke-width="2.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M20 2.5V7.5" stroke="white" stroke-width="2.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path
                            d="M23.75 5H6.25C4.86929 5 3.75 6.11929 3.75 7.5V25C3.75 26.3807 4.86929 27.5 6.25 27.5H23.75C25.1307 27.5 26.25 26.3807 26.25 25V7.5C26.25 6.11929 25.1307 5 23.75 5Z"
                            stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M3.75 12.5H26.25" stroke="white" stroke-width="2.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </div>
                <div>
                    <div class="section-title">Fecha</div>
                    <div class="section-sub">Selecciona un día, solo podrás reservar con una semana de anticipación
                    </div>
                </div>
            </div>

            <div class="calendar-placeholder">
                <mat-card class="demo-inline-calendar-card">
                    <mat-calendar [(selected)]="selected" [minDate]="minDate" [maxDate]="maxDate"></mat-calendar>
                </mat-card>
            </div>
        </div>
    </section>

    <!-- Hora section -->
    <section class="container-select-espacio">
        <div class="section-card">
            <div class="section-header">
                <div class="section-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                        <path d="M15 7.5V15L20 17.5" stroke="white" stroke-width="2.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path
                            d="M15 27.5C21.9036 27.5 27.5 21.9036 27.5 15C27.5 8.09644 21.9036 2.5 15 2.5C8.09644 2.5 2.5 8.09644 2.5 15C2.5 21.9036 8.09644 27.5 15 27.5Z"
                            stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </div>
                <div>
                    <div class="section-title">Hora</div>
                    <div class="section-sub">Selecciona horario</div>
                </div>
            </div>
            <div class="timepicker-row">
                <mat-form-field class="timepicker-field">
                    <mat-label>Elige la hora de inicio</mat-label>
                    <input matInput [matTimepicker]="startTimePicker" [(ngModel)]="startTime"
                        (ngModelChange)="onStartTimeChange($event)" />
                    <mat-timepicker-toggle matSuffix [for]="startTimePicker"></mat-timepicker-toggle>
                    <mat-timepicker #startTimePicker></mat-timepicker>
                </mat-form-field>

                <mat-form-field class="timepicker-field">
                    <mat-label>Elige la hora de fin</mat-label>
                    <input matInput [matTimepicker]="endTimePicker" [(ngModel)]="endTime"
                        (ngModelChange)="onEndTimeChange($event)" />
                    <mat-timepicker-toggle matSuffix [for]="endTimePicker"></mat-timepicker-toggle>
                    <mat-timepicker #endTimePicker></mat-timepicker>
                </mat-form-field>
            </div>
        </div>
    </section>

    <section class="container-select-espacio">
        <div class="section-card">
            <div class="section-header">
                <div class="section-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <path d="M21.3332 28V25.3333C21.3332 23.9188 20.7713 22.5623 19.7711 21.5621C18.7709 20.5619 17.4143 20 15.9998 20H7.99984C6.58535 20 5.22879 20.5619 4.2286 21.5621C3.22841 22.5623 2.6665 23.9188 2.6665 25.3333V28" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M21.3335 4.17065C22.4772 4.46715 23.49 5.13501 24.2131 6.0694C24.9361 7.0038 25.3284 8.15184 25.3284 9.33332C25.3284 10.5148 24.9361 11.6628 24.2131 12.5972C23.49 13.5316 22.4772 14.1995 21.3335 14.496" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M29.3335 28V25.3333C29.3326 24.1516 28.9393 23.0037 28.2153 22.0698C27.4913 21.1358 26.4777 20.4688 25.3335 20.1733" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M11.9998 14.6667C14.9454 14.6667 17.3332 12.2789 17.3332 9.33333C17.3332 6.38781 14.9454 4 11.9998 4C9.05432 4 6.6665 6.38781 6.6665 9.33333C6.6665 12.2789 9.05432 14.6667 11.9998 14.6667Z" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                </div>
                <div>
                    <div class="section-title">Personas</div>
                    <div class="section-sub">Indica cuántas personas asistirán</div>
                </div>
            </div>

            <div class="timepicker-row">
                <mat-form-field class="timepicker-field" appearance="outline">
                    <mat-label>Cantidad de personas</mat-label>
                    <input matInput type="number" min="1" [(ngModel)]="cantidadPersonas" />
                </mat-form-field>
            </div>
        </div>
    </section>

    <section class="container-select-espacio reserve-footer">
        <div class="footer-actions">
            <button class="btn btn-cancel footer-btn" type="button" (click)="cancelarReserva()">Cancelar</button>

            <button class="btn btn-primary footer-btn btn-primary-large" type="button" >
                <span class="btn-label">Crear Reserva</span>
            </button>
        </div>
    </section>
</main>