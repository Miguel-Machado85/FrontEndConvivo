<div class="crear-comentarios-page">
    <div class="main-content">
        <div class="header">
            <h1>Crear Comentario</h1>
            <p>Comparte tus sugerencias o quejas con el administrador del conjunto</p>
        </div>

        <div class="form-container">
            <form [formGroup]="comentarioForm" (ngSubmit)="onSubmit()">
                <!-- Section Header -->
                <div class="form-section-header">
                    <div class="icon-box">
                        <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M25.9148 20.0239C25.9148 20.6487 25.6666 21.2478 25.2248 21.6896C24.7831 22.1314 24.1839 22.3796 23.5591 22.3796H8.04418C7.41945 22.3797 6.82035 22.628 6.37867 23.0698L3.785 25.6635C3.66804 25.7805 3.51904 25.8601 3.35683 25.8923C3.19462 25.9246 3.02649 25.908 2.87369 25.8448C2.72089 25.7815 2.59029 25.6743 2.4984 25.5368C2.4065 25.3993 2.35744 25.2376 2.35742 25.0722V5.88943C2.35742 5.26465 2.60562 4.66546 3.0474 4.22367C3.48919 3.78188 4.08838 3.53369 4.71316 3.53369H23.5591C24.1839 3.53369 24.7831 3.78188 25.2248 4.22367C25.6666 4.66546 25.9148 5.26465 25.9148 5.88943V20.0239Z" stroke="white" stroke-width="2.35574" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="section-text">
                        <h2>Nuevo Comentario</h2>
                        <p>Completa los campos para enviar tu comentario</p>
                    </div>
                </div>

                <!-- Asunto Field -->
                <div class="form-group">
                    <label for="asunto">
                        Asunto <span class="required">*</span>
                    </label>
                    <input
                        type="text"
                        id="asunto"
                        formControlName="asunto"
                        placeholder="Ej: Ruido excesivo, Problema con el ascensor, Sugerencia para la piscina..."
                        class="form-input"
                    />
                    <p class="form-hint">Describe brevemente el tema de tu comentario</p>
                    <div
                        *ngIf="comentarioForm.get('asunto')?.invalid && comentarioForm.get('asunto')?.touched"
                        class="error-message"
                    >
                        <span *ngIf="comentarioForm.get('asunto')?.errors?.['required']">El asunto es requerido</span>
                        <span *ngIf="comentarioForm.get('asunto')?.errors?.['minlength']">Mínimo 4 caracteres</span>
                    </div>
                </div>

                <!-- Descripción Field -->
                <div class="form-group">
                    <label for="descripcion">
                        Descripción <span class="required">*</span>
                    </label>
                    <textarea
                        id="descripcion"
                        formControlName="descripcion"
                        placeholder="Explica en detalle tu sugerencia o queja..."
                        class="form-textarea"
                        rows="4"
                    ></textarea>
                    <p class="form-hint">Proporciona más detalles sobre tu comentario</p>
                    <div
                        *ngIf="comentarioForm.get('descripcion')?.invalid && comentarioForm.get('descripcion')?.touched"
                        class="error-message"
                    >
                        <span *ngIf="comentarioForm.get('descripcion')?.errors?.['required']">La descripción es requerida</span>
                    </div>
                </div>

                <!-- Relacionado Field -->
                <div class="form-group">
                    <label for="relacionado">
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12.6673 14V12.6667C12.6673 11.9594 12.3864 11.2811 11.8863 10.781C11.3862 10.281 10.7079 10 10.0007 10H6.00065C5.29341 10 4.61513 10.281 4.11503 10.781C3.61494 11.2811 3.33398 11.9594 3.33398 12.6667V14"
                                stroke="#364153"
                                stroke-width="1.33333"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            />
                            <path
                                d="M8.00065 7.33333C9.47341 7.33333 10.6673 6.13943 10.6673 4.66667C10.6673 3.19391 9.47341 2 8.00065 2C6.52789 2 5.33398 3.19391 5.33398 4.66667C5.33398 6.13943 6.52789 7.33333 8.00065 7.33333Z"
                                stroke="#364153"
                                stroke-width="1.33333"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            />
                        </svg>
                        Relacionado con un vecino (Opcional)
                    </label>
                    <select id="relacionado" formControlName="relacionado" class="form-select">
                        <option value="">Selecciona un vecino si aplica</option>
                        <option value="juan">Juan Pérez</option>
                        <option value="maria">María García</option>
                        <option value="carlos">Carlos López</option>
                    </select>
                    <p class="form-hint">Si tu comentario se refiere a un vecino específico, selecciónalo aquí</p>
                </div>

                <!-- Info Box -->
                <div class="info-box">
                    <div class="info-icon">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M10 18.3333C14.6024 18.3333 18.3333 14.6024 18.3333 10C18.3333 5.39763 14.6024 1.66667 10 1.66667C5.39763 1.66667 1.66667 5.39763 1.66667 10C1.66667 14.6024 5.39763 18.3333 10 18.3333Z"
                                stroke="#1268C4"
                                stroke-width="1.25"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            />
                            <path d="M10 13.3333V10" stroke="#1268C4" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M10 6.66667H10.0083" stroke="#1268C4" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="info-content">
                        <p class="info-title">Información importante</p>
                        <p>Tu comentario será revisado por el administrador</p>
                        <p>Recibirás una notificación cuando sea atendido</p>
                        <p>Mantén un tono respetuoso en tus comentarios</p>
                    </div>
                </div>

                <!-- Form Actions -->
                <div class="form-actions">
                    <button type="submit" class="btn-primary" [disabled]="!comentarioForm.valid">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 1.3335V14.6668M1.3335 8H14.6668" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        Enviar Comentario
                    </button>
                    <div class="secondary-actions">
                        <button type="button" class="btn-secondary" (click)="onClear()">Limpiar</button>
                        <button type="button" class="btn-tertiary" (click)="onVolver()">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 13.3333L4 8L10 2.66667" stroke="currentColor" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            Volver
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
